В Chrome DevTools на вкладке **Network** для сайта **https://ya.ru/**  информация о загрузке страницы, запросах и работе сайта. 

### **1. Общие данные о загрузке страницы**
- **Время загрузки** (Load Time) – сколько времени заняла загрузка всех ресурсов.
- **Количество запросов** – сколько HTTP-запросов сделал сайт (HTML, CSS, JS, изображения и т. д.).
- **Общий размер страницы** (Transferred / Resources) – сколько данных было скачано.

---

### **2. Подробности запросов**
Каждый запрос в списке можно развернуть и посмотреть:

#### **Headers**
- **URL запроса** – какой ресурс загружается.
- **Метод запроса** (`GET`, `POST`, `HEAD` и др.).
- **Статус ответа** (`200 OK`, `304 Not Modified`, `404 Not Found` и т. д.).
- **Заголовки запроса и ответа** (`User-Agent`, `Cookie`, `Cache-Control` и др.).
- **IP-адрес сервера** (если не скрыто за CDN, как у Яндекса).

#### **Preview / Response**
- **Предпросмотр ответа** (если это HTML, JSON, изображение и т. д.).
- **Исходный код ответа** (например, HTML-разметка главной страницы).

#### **Timing**
- **Время выполнения запроса** (разбивка по этапам):
  - **DNS Lookup** – время разрешения доменного имени в IP.
  - **Initial Connection** – установка соединения (TCP + TLS для HTTPS).
  - **TTFB (Time To First Byte)** – время от отправки запроса до первого байта ответа.
  - **Content Download** – время скачивания данных.

#### **Initiator**
- **Что инициировало запрос** (другой скрипт, HTML-документ, CSS и т. д.).
- **Стек вызовов** (если запрос вызван JavaScript).

#### **Size / Content**
- **Размер загружаемого файла** (сжатый и несжатый).
- **Тип контента** (`text/html`, `application/json`, `image/png` и т. д.).

---

### **3. Фильтрация запросов**
Можно отфильтровать запросы по типу:
- **XHR / Fetch** – AJAX-запросы (например, подгрузка данных без перезагрузки страницы).
- **JS / CSS / Img** – скрипты, стили и изображения.
- **WS (WebSocket)** – если сайт использует веб-сокеты (как в чатах).
- **Media** – видео и аудио.
- **Fonts** – шрифты.
- **Doc** – основной HTML-документ.

---

### **4. Анализ производительности**
- **Водопадная диаграмма (Waterfall)** – показывает, в каком порядке и как долго грузятся ресурсы.
- **Проблемные запросы** (долгая загрузка, ошибки `4xx`/`5xx`).
- **Кэширование** – какие файлы загружаются из кэша (`from disk cache`).

---

### **5. Дополнительные фишки**
- **Throttling** – можно имитировать медленное соединение (3G, Slow 3G).
- **Disable cache** – отключить кэш браузера для тестирования.
- **Export HAR** – сохранить все данные о запросах в файл `.har` для анализа.

---

### **Пример: что можно узнать про ya.ru?**
1. **Основной запрос (`ya.ru`)** – статус `200`, TTFB ~50-200 мс (зависит от локации).
2. **Статические ресурсы** – скорее всего, грузятся с `mc.yandex.ru`, `yastatic.net`.
3. **Метрика и аналитика** – запросы к `mc.yandex.net` (Яндекс.Метрика).
4. **WebSocket** – если есть чат или push-уведомления.
5. **Шрифты и стили** – например, `yastatic.net` для CSS/JS.

---

### **Как это использовать?**
- **Оптимизация скорости** – найти "тяжёлые" запросы.
- **Отладка API** – смотреть XHR-запросы (если сайт динамический).
- **Анализ безопасности** – какие куки передаются, есть ли уязвимости.
- **Парсинг данных** – если сайт подгружает контент через API (можно найти нужные `fetch`/`XHR`).



Отлично! Вот ответы на все 5 вопросов + бонусный.  

---

### **1. Базовый анализ**  
**❓ Вопрос:**  
*Какие три ключевых показателя во вкладке Network помогают оценить скорость загрузки страницы?*  

**✅ Ответ:**  
1. **Общее время загрузки (Load Time)** – сколько времени заняла полная загрузка страницы.  
2. **Количество запросов** – чем их меньше, тем быстрее грузится сайт (оптимизация через объединение файлов).  
3. **Размер переданных данных (Transferred)** – если страница "тяжелая" (много больших изображений, скриптов), это замедляет загрузку.  

*(Дополнительно можно смотреть на TTFB и Waterfall-диаграмму.)*  

---

### **2. Заголовки и статусы**  
**❓ Вопрос:**  
*Если запрос к `https://ya.ru/api/data` вернул статус `304 Not Modified`, что это означает? Как браузер обработает такой ответ?*  

**✅ Ответ:**  
- **`304 Not Modified`** означает, что сервер сообщает: *"У тебя уже есть актуальная версия этого файла в кэше, используй её"*.  
- Браузер **не станет скачивать данные повторно**, а возьмёт их из локального кэша.  
- Так работает, если в запросе есть заголовки `If-Modified-Since` или `If-None-Match`, а сервер поддерживает кэширование.  

*(Это экономит трафик и ускоряет загрузку.)*  

---

### **3. Waterfall-диаграмма**  
**❓ Вопрос:**  
*В водопадной диаграмме один из запросов показывает долгий `TTFB` (Time To First Byte). Какие могут быть причины этого?*  

**✅ Ответ:**  
Возможные причины:  
1. **Медленный сервер** – он долго обрабатывает запрос (например, перегружен).  
2. **Проблемы с сетью** – высокий пинг или потеря пакетов.  
3. **Нет CDN** – если сервер далеко географически.  
4. **Блокирующие операции** – например, сервер ждёт ответа от базы данных.  
5. **Отсутствие кэширования** – сервер каждый раз генерирует ответ с нуля.  

*(Для оптимизации можно использовать кэширование, CDN или оптимизировать бэкенд.)*  

---

### **4. Типы запросов**  
**❓ Вопрос:**  
*Как во вкладке Network быстро найти все запросы, отправленные через JavaScript (например, `fetch` или `XMLHttpRequest`)? Какой фильтр использовать?*  

**✅ Ответ:**  
Нужно применить фильтр:  
- **`XHR`** – для классических AJAX-запросов (XMLHttpRequest).  
- **`Fetch`** – для современных запросов через `fetch()`.  

*(Также можно искать по ключевым словам в URL, например, `api`.)*  

---

### **5. Оптимизация**  
**❓ Вопрос:**  
*Вы заметили, что файл `styles.css` грузится повторно при каждой перезагрузке страницы, хотя его содержимое не менялось. Какой заголовок ответа сервера нужно проверить, чтобы решить эту проблему?*  

**✅ Ответ:**  
Нужно проверить **`Cache-Control`** и **`ETag`** / **`Last-Modified`**:  
- **`Cache-Control: max-age=3600`** – говорит браузеру кэшировать файл на 1 час.  
- **`ETag`** – уникальный хеш файла (если он не меняется, браузер использует кэш).  
- **`Last-Modified`** – дата последнего изменения (для `304 Not Modified`).  

*(Если этих заголовков нет, браузер будет грузить файл каждый раз.)*  

---

### **Бонусный вопрос**  
**❓ Вопрос:**  
*Как с помощью DevTools определить, что сайт использует CDN (как в случае с `yastatic.net` у Яндекса)?*  

**✅ Ответ:**  
1. Посмотреть **домены запросов** во вкладке Network – если статика грузится с других доменов (например, `cdn.site.com`, `yastatic.net`), это CDN.  
2. Проверить **заголовок `Server`** в ответе – часто там указан CDN (например, `cloudflare`, `nginx`).  
3. Проанализировать **IP-адреса** – если у разных ресурсов разные IP из разных регионов, это CDN.  

*(CDN ускоряет загрузку, раздавая файлы с серверов ближе к пользователю.)*  

---

