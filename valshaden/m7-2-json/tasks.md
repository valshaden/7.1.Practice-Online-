
### Задача 1: «Анализатор расходов» (Парсинг и агрегация данных)

**Условие:** У вас есть файл `expenses.json` с данными о расходах за месяц. Каждая запись представляет собой объект с категорией, датой и суммой.
```json
[
  {"category": "food", "amount": 50, "date": "2023-11-15"},
  {"category": "transport", "amount": 30, "date": "2023-11-16"},
  {"category": "food", "amount": 45, "date": "2023-11-17"},
  {"category": "entertainment", "amount": 100, "date": "2023-11-15"}
]
```

**Задание:** Напишите скрипт на Python, который:
1.  Считывает этот JSON-файл.
2.  **Подсчитывает общую сумму расходов.**
3.  **Находит категорию, на которую было потрачено больше всего денег.**
4.  (Усложнение) Группирует расходы по дате и выводит дату с наибольшей общей суммой трат за день.



---

### Задача 2: «Валидатор профиля пользователя» (Валидация структуры и данных)

**Условие:** Ваше приложение получает от пользователя JSON с данными профиля. Объект должен строго соответствовать схеме:
*   `username` (строка, обязательное поле, не менее 3 символов)
*   `email` (строка, обязательное поле, должен содержать символ `@`)
*   `age` (целое число, опциональное поле, должно быть в диапазоне от 14 до 120)
*   `hobbies` (массив строк, опциональное поле, если есть, то не пустой)

**Задание:** Напишите функцию `validate_user_profile(data)`, которая принимает словарь Python (прочитанный JSON) и проверяет его на соответствие правилам.
*   Если данные валидны, функция возвращает `{"status": "success"}`.
*   Если есть ошибки, функция возвращает `{"status": "error", "errors": [список_сообщений_об_ошибках]}`.

Пример невалидных данных и вывода:
```python
input_data = {
    "username": "al",
    "email": "not-an-email",
    "age": 13
}
# Output:
{"status": "error", "errors": ["username: must be at least 3 characters", "email: must contain '@'", "age: must be at least 14"]}
```

**Цель:** Научиться проверять структуру и содержимое JSON-объекта, формировать понятные ошибки.

---

### Задача 3: «Трансформатор данных из API» (Преобразование форматов)

**Условие:** Вы получили из внешнего API вот такой JSON с данными о погоде в «сыром» формате:
```json
{
  "location": {
    "city_name": "London",
    "country_code": "UK"
  },
  "forecast": {
    "daily": {
      "temp": [12, 15, 11, 10, 13],
      "icon": ["cloudy", "sunny", "rainy", "rainy", "cloudy"]
    }
  }
}
```

**Задание:** Напишите код, который преобразует эти данные в новый, более удобный JSON-формат:
```json
[
  {"day": 0, "temp": 12, "weather": "cloudy", "location": "London, UK"},
  {"day": 1, "temp": 15, "weather": "sunny", "location": "London, UK"},
  {"day": 2, "temp": 11, "weather": "rainy", "location": "London, UK"},
  ...
]
```
Т.е. нужно «развернуть» вложенные массивы в плоский список объектов.

**Цель:** Освоить сложные манипуляции по извлечению и объединению данных из разных частей JSON-объекта.

---

### Задача 4: «Генератор конфигурационного файла» (Создание JSON)

**Условие:** Вам нужно создать файл `config.json` для настройки приложения. Настройки зависят от переданных аргументов.

**Задание:** Напишите скрипт, который:
1.  Принимает из аргументов командной строки имя среды (`environment`), например `dev` или `prod`.
2.  На основе этого создает конфигурационный объект со следующими правилами:
    *   Для `dev` (разработка): `"debug": true`, `"log_level": "verbose"`, `"database_url": "sqlite:///app.db"`.
    *   Для `prod` (продакшн): `"debug": false`, `"log_level": "error"`, `"database_url": "postgresql://user:pass@localhost/app"`.
    *   Для любой среды добавляются общие настройки: `"app_name": "My Awesome App"`, `"version": "1.0.0"`.
3.  **Записывает полученный объект в файл `config.json`.**

Пример результата для `python generate_config.py prod`:
```json
{
  "app_name": "My Awesome App",
  "version": "1.0.0",
  "environment": "prod",
  "debug": false,
  "log_level": "error",
  "database_url": "postgresql://user:pass@localhost/app"
}
```

**Цель:** Научиться программно создавать и записывать JSON-файлы, работать с условиями.

---

### Задача 5: «Поиск по JSON-базе данных» (Рекурсивный обход)

**Условие:** У вас есть файл `library.json`, моделирующий структуру библиотеки. Он имеет глубоко вложенную структуру.
```json
{
  "library": {
    "name": "City Central Library",
    "sections": [
      {
        "name": "Fiction",
        "books": [
          {"title": "1984", "author": "George Orwell", "is_available": false},
          {"title": "The Great Gatsby", "author": "F. Scott Fitzgerald", "is_available": true}
        ]
      },
      {
        "name": "Science",
        "books": [
          {"title": "A Brief History of Time", "author": "Stephen Hawking", "is_available": true},
          {"title": "Cosmos", "author": "Carl Sagan", "is_available": false}
        ]
      }
    ]
  }
}
```

**Задание:** Напишите функцию `find_available_books_by_author(author_name)`, которая:
1.  Рекурсивно обходит всю структуру JSON.
2.  Находит и возвращает **названия всех книг** указанного автора (`author_name`), у которых `"is_available": true`.
3.  Функция должна работать корректно, даже если структура файла изменится (например, добавится новый уровень вложенности `floors` -> `sections` -> `books`).

**Цель:** Освоить рекурсивный обход произвольных JSON-структур без жесткой привязки к конкретным ключам.